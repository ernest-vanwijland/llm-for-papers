\documentclass[11pt,letter]{article} 
\usepackage[margin=1in]{geometry}
\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{times} 
\usepackage{amsfonts}
\usepackage{amsmath} 
\usepackage{amsthm} 
\usepackage{latexsym} 
\usepackage{epsfig}
\usepackage{latexsym} 
\usepackage{verbatim}
\usepackage{xcolor}

\usepackage{hyperref}
\hypersetup{colorlinks=true,citecolor=blue,linkcolor=blue,urlcolor=blue}

\usepackage{todonotes}

\begin{document}

\input{macros}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{Satisfiability of commutative vs. non-commutative CSPs\thanks{This work was supported by UKRI EP/X024431/1 and NSERC Discovery grant. For the purpose of Open Access, the authors have applied a CC BY public copyright licence to any Author Accepted Manuscript version arising from this submission. All data is provided in full in the results section of this paper.}}
\author{Andrei A.\ Bulatov\\SFU \and Stanislav \v{Z}ivn\'y\\University of Oxford} 
\date{} 
\maketitle

\begin{abstract}
The Mermin-Peres magic square is a celebrated example of a system of Boolean
  linear equations that is not (classically) satisfiable but is satisfiable via
  linear operators on a Hilbert space of dimension four. A natural question is
  then, for what kind of problems such a phenomenon occurs? Atserias, Kolaitis,
  and Severini answered this question for all Boolean Constraint Satisfaction
  Problems (CSPs): For \textsc{0-Valid-SAT}, \textsc{1-Valid-SAT},
  \textsc{2-SAT}, \textsc{Horn-SAT}, and \textsc{Dual Horn-SAT}, classical
  satisfiability and operator satisfiability is the same  and thus there is no
  gap; for all other Boolean CSPs, these notions differ as there are gaps, i.e.,
  there are unsatisfiable instances that are  satisfiable via operators on Hilbert spaces. 

We generalize their result to CSPs on \emph{arbitrary finite} domains and give
  an almost complete classification: First, we show that NP-hard CSPs admit a
  separation between classical satisfiability and satisfiability via operators
  on finite- and infinite-dimensional Hilbert spaces. Second, we show that
  tractable CSPs of bounded width have no satisfiability gaps of any kind.
  Finally, we show that tractable CSPs of unbounded width can simulate, in a
  satisfiability-gap-preserving fashion, linear equations over an Abelian group
  of prime order $p$; for such CSPs, we obtain a separation of classical
  satisfiability and satisfiability via operators on infinite-dimensional
  Hilbert spaces. Furthermore, if $p=2$, such CSPs also have gaps separating
  classical satisfiability and satisfiability via operators on finite- and infinite-dimensional Hilbert spaces. 
\end{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}

\input{b-intro}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Preliminaries}\label{sec:preliminaries}

\input{c-prelims}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Operator CSP}\label{sec:operator-CSP}

\input{d-CSP}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Overview of results and techniques}

\input{d2-overview}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Bounded width and no gaps}\label{sec:no-gap}

\input{e-no-gap}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Reductions through pp-definitions}\label{sec:operator-pp}

\input{g-pp}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Unbounded width and gaps}\label{sec:gap}

\input{h-gap}

\section*{Acknowledgements} We are grateful to William Slofstra for reporting
mistakes in a previous version of this paper, for telling us about several
relevant results, and for very useful discussions.

{\small
\bibliographystyle{plainurl}
\bibliography{bz}
}


\end{document}

